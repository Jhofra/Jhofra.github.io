<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Biblioteca Online - Versión Mejorada</title>
  <style>
    /* RESET Y ESTILOS BÁSICOS */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      margin: 0;
    }

    /* ENCABEZADO */
    header {
      display: flex;
      align-items: center;
      background-color: #4285F4;
      color: #fff;
      padding: 10px;
      position: relative; /* Para posicionar la barra de búsqueda */
    }
    header .logo-images {
      flex: 1; /* Ocupa el espacio para alinear a la izquierda la barra de búsqueda */
      display: flex;
      align-items: center;
      gap: 15px;
    }
    header .logo-images img {
      max-width: 120px;
      height: auto;
      border-radius: 4px;
    }
    /* BARRA DE BÚSQUEDA */
    .search-container {
      position: absolute;
      left: 20px;
      bottom: -20px; /* Hace que la barra “flote” un poco bajo el header */
      background-color: #fff;
      border-radius: 4px;
      padding: 5px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .search-container input[type="text"] {
      border: none;
      outline: none;
      padding: 5px;
    }

    /* MENÚ LATERAL (NAV) */
    nav {
      width: 200px;
      background-color: #fff;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
      padding: 20px;
    }
    nav ul {
      list-style: none;
      margin-top: 60px; /* Deja espacio arriba para que no se superponga con la barra de búsqueda */
    }
    nav ul li {
      margin-bottom: 10px;
    }
    nav ul li a {
      text-decoration: none;
      color: #4285F4;
      font-weight: bold;
    }

    /* CONTENIDO PRINCIPAL */
    main {
      flex: 1;
      padding: 20px;
      margin-top: 40px; /* Espacio para que no se superponga con la barra de búsqueda */
    }
    section {
      background-color: #fff;
      margin-bottom: 30px;
      padding: 15px;
      border-radius: 5px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    section h2 {
      border-bottom: 2px solid #4285F4;
      padding-bottom: 5px;
      margin-bottom: 10px;
    }
    .book {
      border-bottom: 1px solid #ddd;
      padding: 10px 0;
    }
    .book:last-child {
      border-bottom: none;
    }

    /* RESULTADOS DE BÚSQUEDA */
    #searchResults {
      display: none; /* Oculto por defecto */
    }
    .search-result {
      border-bottom: 1px solid #ddd;
      padding: 10px 0;
    }
    .search-result:last-child {
      border-bottom: none;
    }

    /* CONTENEDOR PRINCIPAL (NAV + MAIN) */
    .container {
      display: flex;
    }

    /* PIE DE PÁGINA */
    footer {
      background-color: #eee;
      text-align: center;
      padding: 10px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <!-- ENCABEZADO -->
  <header>
    <div class="logo-images">
      <!-- Sustituye estas URLs por las de tus imágenes reales -->
      <img 
        src="https://raw.githubusercontent.com/Jhofra/Camaron-que-se-duerme/main/camaron1.jpg" 
        alt="Camarón 1">
      <img 
        src="https://raw.githubusercontent.com/Jhofra/Camaron-que-se-duerme/main/camaron2.jpg" 
        alt="Camarón 2">
    </div>

    <!-- BARRA DE BÚSQUEDA -->
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="Buscar libros o autores...">
    </div>
  </header>

  <!-- CONTENIDO PRINCIPAL: NAV + MAIN -->
  <div class="container">
    <!-- MENÚ LATERAL -->
    <nav>
      <ul>
        <li><a href="#obras-literarias">Obras Literarias</a></li>
        <li><a href="#mangas">Mangas</a></li>
        <li><a href="#novelas-ligeras">Novelas Ligeras</a></li>
        <li><a href="#universidad">Libros para la Universidad</a></li>
        <li><a href="#revistas">Libros para Revistas</a></li>
        <li><a href="#medicos">Libros Médicos</a></li>
        <li><a href="#ensayos">Ensayos</a></li>
        <li><a href="#autores">Autores</a></li>
      </ul>
    </nav>

    <!-- MAIN -->
    <main>
      <!-- Sección de Resultados de Búsqueda -->
      <section id="searchResults">
        <h2>Resultados de Búsqueda</h2>
        <div id="resultsContainer"></div>
      </section>

      <!-- Secciones por categoría -->
      <section id="obras-literarias">
        <h2>Obras Literarias</h2>
        <div id="books-obras-literarias"></div>
      </section>

      <section id="mangas">
        <h2>Mangas</h2>
        <div id="books-mangas"></div>
      </section>

      <section id="novelas-ligeras">
        <h2>Novelas Ligeras</h2>
        <div id="books-novelas-ligeras"></div>
      </section>

      <section id="universidad">
        <h2>Libros para la Universidad</h2>
        <div id="books-universidad"></div>
      </section>

      <section id="revistas">
        <h2>Libros para Revistas</h2>
        <div id="books-revistas"></div>
      </section>

      <section id="medicos">
        <h2>Libros Médicos</h2>
        <div id="books-medicos"></div>
      </section>

      <section id="ensayos">
        <h2>Ensayos</h2>
        <div id="books-ensayos"></div>
      </section>

      <section id="autores">
        <h2>Autores</h2>
        <div id="books-autores"></div>
      </section>
    </main>
  </div>

  <!-- PIE DE PÁGINA -->
  <footer>
    <p>&copy; 2025 Biblioteca Online</p>
  </footer>

  <!-- BIBLIOTECA FUSE.JS PARA BÚSQUEDA DIFUSA -->
  <script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>

  <!-- SCRIPT PRINCIPAL -->
  <script>
    // Datos de ejemplo
    const books = [
      { 
        title: "Cien Años de Soledad", 
        author: "Gabriel García Márquez", 
        category: "Obras Literarias", 
        description: "Una obra maestra de la literatura latinoamericana."
      },
      { 
        title: "La Casa de los Espíritus", 
        author: "Isabel Allende", 
        category: "Obras Literarias", 
        description: "Una saga familiar llena de realismo mágico."
      },
      { 
        title: "Naruto", 
        author: "Masashi Kishimoto", 
        category: "Mangas", 
        description: "Historia de ninjas y aventuras."
      },
      { 
        title: "One Piece", 
        author: "Eiichiro Oda", 
        category: "Mangas", 
        description: "Aventuras en el mundo de los piratas."
      },
      { 
        title: "Sword Art Online", 
        author: "Reki Kawahara", 
        category: "Novelas Ligeras", 
        description: "Una novela ligera de realidad virtual y aventuras."
      },
      { 
        title: "No Game No Life", 
        author: "Yuu Kamiya", 
        category: "Novelas Ligeras", 
        description: "Hermanos en un mundo donde los juegos deciden el destino."
      },
      { 
        title: "Introducción a la Física", 
        author: "Juan Pérez", 
        category: "Libros para la Universidad", 
        description: "Conceptos fundamentales de la física."
      },
      { 
        title: "Cálculo Infinitesimal", 
        author: "María López", 
        category: "Libros para la Universidad", 
        description: "Una guía completa para el estudio del cálculo."
      },
      { 
        title: "Revista de Literatura", 
        author: "Ana Gómez", 
        category: "Libros para Revistas", 
        description: "Publicaciones y reseñas de obras literarias."
      },
      { 
        title: "Moda y Diseño", 
        author: "Carlos Ruiz", 
        category: "Libros para Revistas", 
        description: "Tendencias y análisis en el mundo del diseño."
      },
      { 
        title: "Manual de Medicina", 
        author: "Dr. Martínez", 
        category: "Libros Médicos", 
        description: "Referencia para estudiantes y profesionales de la medicina."
      },
      { 
        title: "Avances en Cirugía", 
        author: "Dr. González", 
        category: "Libros Médicos", 
        description: "Innovaciones y técnicas en el campo de la cirugía."
      },
      { 
        title: "El Ensayo de la Vida", 
        author: "Laura Jiménez", 
        category: "Ensayos", 
        description: "Reflexiones sobre la existencia y la sociedad."
      },
      { 
        title: "Pensamientos y Reflexiones", 
        author: "Pedro Sánchez", 
        category: "Ensayos", 
        description: "Ensayos que invitan a la reflexión."
      }
    ];

    // Opciones de Fuse.js para búsqueda difusa
    const fuseOptions = {
      keys: ['title', 'author', 'description'],
      threshold: 0.4
    };
    const fuse = new Fuse(books, fuseOptions);

    // Renderizar libros en las secciones correspondientes
    function renderBooks() {
      // Mapeo de categoría -> id del contenedor
      const categoriesMap = {
        "Obras Literarias": "books-obras-literarias",
        "Mangas": "books-mangas",
        "Novelas Ligeras": "books-novelas-ligeras",
        "Libros para la Universidad": "books-universidad",
        "Libros para Revistas": "books-revistas",
        "Libros Médicos": "books-medicos",
        "Ensayos": "books-ensayos"
      };

      // Limpiar contenedores
      Object.values(categoriesMap).forEach(id => {
        document.getElementById(id).innerHTML = "";
      });

      // Rellenar contenedores
      books.forEach(book => {
        const containerId = categoriesMap[book.category];
        if (containerId) {
          const container = document.getElementById(containerId);
          const div = document.createElement("div");
          div.className = "book";
          div.innerHTML = `
            <h3>${book.title}</h3>
            <p><strong>Autor:</strong> ${book.author}</p>
            <p>${book.description}</p>
          `;
          container.appendChild(div);
        }
      });

      // Sección de autores (únicos)
      const authorsContainer = document.getElementById("books-autores");
      authorsContainer.innerHTML = "";
      const uniqueAuthors = {};

      books.forEach(book => {
        if (!uniqueAuthors[book.author]) {
          uniqueAuthors[book.author] = [];
        }
        uniqueAuthors[book.author].push(book.title);
      });

      for (const author in uniqueAuthors) {
        const div = document.createElement("div");
        div.className = "book";
        div.innerHTML = `
          <h3>${author}</h3>
          <p><strong>Obras:</strong> ${uniqueAuthors[author].join(", ")}</p>
        `;
        authorsContainer.appendChild(div);
      }
    }

    // Render inicial
    renderBooks();

    // Manejo de la búsqueda en tiempo real
    const searchInput = document.getElementById("searchInput");
    const searchResultsSection = document.getElementById("searchResults");
    const resultsContainer = document.getElementById("resultsContainer");

    searchInput.addEventListener("input", function(e) {
      const query = e.target.value.trim();
      resultsContainer.innerHTML = "";

      if (query === "") {
        searchResultsSection.style.display = "none";
      } else {
        searchResultsSection.style.display = "block";
        const results = fuse.search(query);

        if (results.length > 0) {
          results.forEach(result => {
            const book = result.item;
            const div = document.createElement("div");
            div.className = "search-result";
            div.innerHTML = `
              <h3>${book.title}</h3>
              <p><strong>Autor:</strong> ${book.author}</p>
              <p><em>${book.category}</em></p>
              <p>${book.description}</p>
            `;
            resultsContainer.appendChild(div);
          });
        } else {
          resultsContainer.innerHTML = "<p>No se encontraron resultados.</p>";
        }
      }
    });
  </script>
</body>
</html>


